# HTTP 정리

[김영한님의 모든 개발자를 위한 HTTP 웹 기본 지식](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC)을 듣고 정리한 내용입니다.

## 인터넷 네트워크란?

HTTP를 알아보기 전에 통신이 어떻게 이루어지는지 간단하게 알아보자.

### 멀리 떨어져있는 기기끼리 어떻게 통신할 수 있을까??

부산에 있는 A씨가 서울에 있는 B씨에게 데이터를 보낸다고 가정하자.<br>
그러면 A씨가 사용하는 컴퓨터에 데이터를 입력하여 B씨의 컴퓨터에 전송하기 위해선 B씨의 컴퓨터를 우선 찾아야 된다.
이때 MAC주소와 IP주소를 사용하게 되고 A씨와 B씨는 물리적으로 연결되어 있는데,
이렇게 먼거리를 통신하려면 중간에 신호를 증폭시켜주는 장치와 도착할 수 있는 최단 경로를 알아내기 위한 장치인 라우터(노드)들을 거치게 되는데 이 중간에 있는 여러 개의 라우터(노드)의 집합을 인터넷이라 부른다.

### MAC과 IP주소란?
- MAC
    - MAC은 기기의 고유주소이다. (거의 유일함)<br>
    - LAN 통신(근거리)에서 MAC주소를 사용한다.<br>
    - 48bit 주소체계 (16진수 12개 and 콜론(`:`)으로 구분 )


- IP주소
    - IP주소는 동적인 IP와 고정IP가 있으며, 사설IP와 공인IP가 구분되어 있다.<br>
    - IPv4 : 32bit 주소체계 (8비트씩 4개 and 옥텟(`.`)으로 구분)
    - IPv6 : 128bit 주소체계 (16진수 4bit 4개의 그룹으로 총 8개 콜론(`:`)으로 구분)
    - 숫자로 구성
        ex) 168.192.10.1 (IPv4)
        ex) 3FFF:1002:FFDD:1258:0000:0000:0000:0000 -> 3FFF:1002:FFDD:1258:: (IPv6)
    - 서브넷마스크 ( 네트워크 주소와 호스트 주소를 나눠주는 역할)

### 공인IP와 사설IP 

- `공인 IP`
    - 인터넷상에서 유일한 값을 가진다.
    - 특정 기업에서 발급한다. (유료)
    - 보안에 각별히 신경써야 한다.

- `사설 IP`
    - 네트워크 상에서 유일한 값을 가진다.<br>
    - 하나의 공인IP를 받아 여러 사설IP를 사용한다.<br>
    - 사설IP는 외부에 노출되지 않고 외부에 데이터를 보낼 시에 NAT을 통해 변환되어 통신한다.

나누는 이유는 다양한 이유가 있지만, 우선 수많은 기기가 각자 고유한 IP를 가진다면 IP개수가 턱없이 부족할 것이다.<br>
사설망에서 데이터를 외부로 보낼때 공인IP를 가지고있는 라우터를 거치게 되는데 이때 사설IP가 공인IP로 바뀌게된다.[Network Acess Translation](https://en.wikipedia.org/wiki/Network_address_translation)<br>

### IP (Internet Protocol)
데이터 단위를 패킷(Packet)이라 부름<br>
패킷은 출발지 , 목적지 , 보낼데이터 등을 담아 보낸다.<br>

요청과 응답시 서로 다른노드를 거쳐 올 경우가 있다.<br>
왜냐하면 중간에 라우터가 데이터를 너무많이 받아서 우회할 경우도 있고,<br>
문제가 발생하여 작동을 안할수도 있기 때문이다.<br>

인터넷 프로토콜은 오로지 목적지를 향해 데이터를 최적의 경로로 송신하는 목적을 가진 프로토콜이다.

### IP 프로토콜의 한계
- 비연결성

    패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송

- 비신뢰성

    중간에 패킷이 사라지거나 패킷이 순서대로 안오는 케이스들에 대해 대처가 불가능

- 프로그램 구분

    같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이라면 이 애플리케이션들을 구분할 수 없음

> 위의 한계점들을 극복하기 위해 TCP/UDP, PORT가 개발됨.

## TCP와 UDP

IP 프로토콜은 신뢰할수 없는 프로토콜이다.<br>
위에 IP프로토콜의 한계에서 적어놧듯이 IP프로토콜은 상대가 받을수있는 상황이 아니라도 데이터를 전송하고,
또 패킷이 중간에 사라지거나 손실되도 대처가 안되며 순서대로 도착할거라는 보장이 없다.<br>
이를 위해 TCP 프로토콜이 존재한다.

### TCP (RFC 793)

- 신뢰성 있는 통신 프로토콜
- 두 프로세스간에 안정적으로 통신이 가능한지 사전에 가상의 연결을 시도 (3way-HandShake)
- Port Number를 통해 대상 식별함.
- 순서 보장 및 흐름제어, 오류제어, 흐름제어 역할을 함

### UDP

- 간단한 기능만을 제공하는데 IP와 유사하다.
- 기본적으로 TCP와 같이 Port번호를 통해 대상을 식별
- 신뢰성 , 순서보장 , X
- 속도가 빠르다.
- 애플리케이션 즉, 상위계층에서 추가작업 해야함.

## PORT 와 Socket

### PORT

TCP와 UDP를 설명하면서 계속 Port를 언급하였는데 Port에 대해 간단하게 설명하겠습니다.
Port는 대상을 식별하기 위한 0~65535 범위의 번호를 가짐.<br>
Port를 통해 대상을 식별함 = 패킷을 구분지어 어느 프로세스로 갈지 정하기 위한 번호<br>
즉, Port는 해당 프로세스로 가기위한 주소라고 볼수 있다.

### SOCKET

TCP/IP 프로토콜 표준에서 Socket은 IP와PORT를 합친것 이다.<br>
고유한 host주소와 프로세스로 가기 위한 주소 PORT를 합치므로 유니크하게 식별할 수 있다.<br>
즉 , 네트워크 상에있는 프로세스 간 통신의 종착점(End Point)이다.

## DNS란?
우리는 네이버나 구글을 들어갈 때 우리가 쓰는 문자를 주소창에 입력하여 들어가게 되는데,<br>
이는 사실 주소를 입력하게 되면 ip로 바뀌어서 접속하게 된다.<br>

> www.naver.com 입력 -> 223.130.195.95:443 반환 -> 네이버 접속

위의 과정을 거치게 되는데, 이 때 영문자로 주소를 입력하면 ip주소로 반환해 주는 것을
`DNS (Domain Name Service)`라고 한다.

- 호스트 주소를 IP주소로 변환해준다.
- 트리 구조로 구성 및 내부 서브도메인을 가질수도 있음.
- 도메인 네임 스페이스 , 네임 서버, 리졸버로 구성되어 있음

## URI?? URL??

### URI란?

`리소스를 식별하기 위한 정보`를 담은 주소
URL 과 URN 등으로 나뉜다.

    Uniform : 리소스 식별하는 통일된 방식
    Resource : 자원, URI로 식별할 수 있는 모든 것(제한 없음)
    Identifier : 다른 항목과 구분하는데 필요한 정보

- URL(Uniform Resource Location)
    - 리소스가 있는 위치(경로)를 지정
    - 프로토콜을 포함
    - 웹 뿐만이 아니라 컴퓨터 네트워크상의 자원을 모두 나타낼 수 있음
        ex ) file:///C:/HTTP/URLTESTFOLDER/ (컴퓨터 네트워크 사으이 자원을 나타냄)
             https://www.google.com/search?q=http&hl=ko (웹 자원)
    - 문법 방식 

        ![image](https://github.com/9ony/9ony/assets/97019540/6a60b924-bd5b-4b48-b1eb-8a82a4f2acd4)

- URN(Uniform Resource name)
    - 리소스에 이름을 부여
    - 프로토콜을 포함하지 않는다.
    - 이름만으로 실제 리소스를 찾을 수 있음
        ex) urn:isbn:8960777331 (어떤 책의 isbn URN)
